<!doctype html>
<html>
<head>
  <style type="text/css">
    svg { width: 600px; background: #eee; }

    .legend-box {
      width: 50px;
      height: 15px;
    }
  </style>
  <title>Ordinal Scale</title>
  <svg></svg>
</head>
<body>
<script type="text/javascript" src="d3-3.5.7.min.js"></script>
<script type="text/javascript">

var data = [
  145,
  36,
  349,
  279,
  435,
  192,
  304,
  125,
  57,
  292,
  479,
  89,
  446,
  296,
  499
];


var svg = d3.select('svg');

var legend = svg.append("g")
  .attr("transform", "translate(152, 50)")
  .attr("width", "150")
  .attr("height", "50")
  .attr("class", "legend");


var csr = d3.scale.linear()
  .domain([1, 10])
  .range(['#1A9850', '#FFFFBF', '#D73027']);


var q = d3.scale.quantize().domain([1, 10]).range(['#1A9850', '#FFFFBF', '#D73027']);

legend
  .append("g").attr("class", "legend-box-container")
  .selectAll("rect").data(csr.range())
  .enter()
  .append("rect")
  .attr("class", "legend-box")
  .attr("x", function(d, i) { return i * 50; })
  .attr("fill", function(d) { return d; })


var xAxis = d3.svg.axis()
  .scale(q)
  .orient("bottom");

legend
  .append("g").attr("class", "legend-axes")
  .attr("transform", "translate(0, 10)")
  .call(xAxis)

/* For generating sample data */
function generateData(len=15, range=500) {
  var toReturn = [];
  for(var i = 0; i < len; i++) {
    toReturn.push(Math.floor(Math.random() * range))
  }
  return toReturn;
}

</script>
</body>
</html>