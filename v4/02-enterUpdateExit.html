<!doctype html>
<html>
<head>
  <title>Simple use of d3 version 4</title>

  <style type="text/css">
    .box { width: 20px; height: 20px; display: inline-block; }
    .existing .box { background: #000; }
    .added .box { background: green; }
    .removed .box { background: red; }
  </style>
</head>
<body>

<ul>
  <li>DOM elements < Data <button>Enter</button></li>
  <li>DOM elements > Data <button>Exit</button></li>
  <li>DOM elements = Data <button>Update</button></li>
</ul>

<ul class="legend">
  <li class="existing"> <span class="box"></span> Updated</li>
  <li class="added"> <span class="box"></span> New</li>
  <li class="removed"> <span class="box"></span> Removed</li>
</ul>

<script type="text/javascript" src="../d3-v4.js"></script>
<script type="text/javascript">

var data1 = [10, 12, 5];

var svg = d3.select("body")
  .append("svg")
  .attr("width", 400)
  .attr("height", 350)
  .style("background", "#eee")
  .style("border", "1px solid #333")

svg.append("circle")
  .attr("cx", 70)
  .attr("cy", 70)
  .attr("r", 10)
svg.append("circle")
  .attr("cx", 95)
  .attr("cy", 70)
  .attr("r", 10)

var circles = svg.selectAll("circle")
  .data(data1)
    .attr("cx", 50)
    .attr("cy", function(d, i) { return (i+1) * 30; })
    .attr("r", 10)
    .attr("fill", "black")
  .exit()
    .attr("fill", "red")
  .enter()
    .append("circle")
      .attr("cx", 50)
      .attr("cy", function(d, i) { return (i+1) * 30; })
      .attr("r", 10)
      .attr("fill", "green")

</script>
</body>
</html>